{"version":3,"file":"/Users/trinominis/Documents/projects/udemy/ng2andFirebase/final-project/populate-db.ts","sources":["/Users/trinominis/Documents/projects/udemy/ng2andFirebase/final-project/populate-db.ts"],"names":[],"mappings":";;AAAA,qCAAmD;AACnD,sEAAoE;AACpE,qCAAmC;AAGnC,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;AAEpD,wBAAa,CAAC,gCAAc,CAAC,CAAC;AAG9B,IAAM,UAAU,GAAG,mBAAQ,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AAC7C,IAAM,UAAU,GAAG,mBAAQ,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AAI7C,gBAAM,CAAC,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM;IAE3B,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;IAEzC,IAAM,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC;QAChC,GAAG,EAAE,MAAM,CAAC,GAAG;QACf,WAAW,EAAE,MAAM,CAAC,WAAW;QAC/B,OAAO,EAAE,MAAM,CAAC,OAAO;QACvB,cAAc,EAAE,MAAM,CAAC,cAAc;QACrC,eAAe,EAAE,MAAM,CAAC,eAAe;KACxC,CAAC,CAAC;IAEH,IAAM,mBAAmB,GAAG,EAAE,CAAC;IAE/B,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAW;QAEjC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;QAE1C,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACvC,WAAW,EAAE,MAAM,CAAC,WAAW;YAC/B,QAAQ,EAAE,MAAM,CAAC,QAAQ;YACzB,GAAG,EAAE,MAAM,CAAC,GAAG;YACf,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,IAAI;YACjC,eAAe,EAAE,MAAM,CAAC,eAAe;YACvC,QAAQ,EAAE,SAAS,CAAC,GAAG;SACxB,CAAC,CAAC,GAAG,CAAC,CAAC;IAEV,CAAC,CAAC,CAAC;IAGH,IAAM,WAAW,GAAG,mBAAQ,EAAE,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAEvD,IAAM,gBAAgB,GAAG,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAE1D,mBAAmB,CAAC,OAAO,CAAC,UAAA,SAAS;QACnC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAExC,IAAM,uBAAuB,GAAG,gBAAgB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAElE,uBAAuB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC,CAAC,CAAC;AAGL,CAAC,CAAC,CAAC","sourcesContent":["import { database, initializeApp } from 'firebase';\nimport { firebaseConfig } from './src/environments/firebase.config';\nimport { dbData } from './db-data';\n\n\nconsole.log('Initizalizing Firebase database ... ');\n\ninitializeApp(firebaseConfig);\n\n\nconst coursesRef = database().ref('courses');\nconst lessonsRef = database().ref('lessons');\n\n\n\ndbData.courses.forEach(course => {\n\n  console.log('adding course', course.url);\n\n  const courseRef = coursesRef.push({\n    url: course.url,\n    description: course.description,\n    iconUrl: course.iconUrl,\n    courseListIcon: course.courseListIcon,\n    longDescription: course.longDescription\n  });\n\n  const lessonKeysPerCourse = [];\n\n  course.lessons.forEach((lesson: any) => {\n\n    console.log('adding lesson ', lesson.url);\n\n    lessonKeysPerCourse.push(lessonsRef.push({\n      description: lesson.description,\n      duration: lesson.duration,\n      url: lesson.url,\n      tags: lesson.tags,\n      videoUrl: lesson.videoUrl || null,\n      longDescription: lesson.longDescription,\n      courseId: courseRef.key\n    }).key);\n\n  });\n\n\n  const association = database().ref('lessonsPerCourse');\n\n  const lessonsPerCourse = association.child(courseRef.key);\n\n  lessonKeysPerCourse.forEach(lessonKey => {\n    console.log('adding lesson to course ');\n\n    const lessonCourseAssociation = lessonsPerCourse.child(lessonKey);\n\n    lessonCourseAssociation.set(true);\n  });\n\n\n});\n\n\n\n\n\n\n\n\n"]}